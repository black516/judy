var utils={isFunction:function(a){return typeof a==="function"},isArray:Array.isArray||function(a){return typeof a==="array"},isPlainObject:function(c){if(!c||typeof c!=="object"||c.nodeType){return false}try{if(c.constructor&&!hasOwn.call(c,"constructor")&&!hasOwn.call(c.constructor.prototype,"isPrototypeOf")){return false}}catch(b){return false}var a;for(a in c){}return a===undefined||hasOwn.call(c,a)},extend:function(){var k,c,a,b,g,h,f=arguments[0]||{},e=1,d=arguments.length,j=false;if(typeof f==="boolean"){j=f;f=arguments[1]||{};e=2}if(typeof f!=="object"&&!this.isFunction(f)){f={}}if(d===e){f=this;--e}for(;e<d;e++){if((k=arguments[e])!=null){for(c in k){a=f[c];b=k[c];if(f===b){continue}if(j&&b&&(this.isPlainObject(b)||(g=this.isArray(b)))){if(g){g=false;h=a&&this.isArray(a)?a:[]}else{h=a&&this.isPlainObject(a)?a:{}}f[c]=this.extend(j,h,b)}else{if(b!==undefined){f[c]=b}}}}}return f}};function Chart(c,b,a){this.init(c,b,a)}Chart.prototype={init:function(g,d,b){this.properties={};this.options={margin:[60,60,60,60]};utils.extend(this.options,b);this.container=d3.select(g).append("svg:svg");this.chart=this.container.append("svg:g");this.data=d;this.set("wrapperWidth",parseInt(d3.select(g).attr("width")));this.set("wrapperHeight",parseInt(d3.select(g).attr("height")));this.container.attr("width",this.get("wrapperWidth"));this.container.attr("height",this.get("wrapperHeight"));var f=this.options.margin[0],c=this.options.margin[1],a=this.options.margin[2],e=this.options.margin[3];this.width=this.get("wrapperWidth")-e-c;this.height=this.get("wrapperHeight")-f-a;this.max=this.max();this.min=this.min();if(this.options.margin){this.chart.attr("transform","translate("+e+","+f+")")}this.render=this.getRender()},getRender:function(){eval("var Render = "+this.options.type+"Chart");var render=new Render();render.context=this;return render},draw:function(){this.render.draw()},get:function(a){return this.properties[a]},set:function(a,b){this.properties[a]=b},x:function(){if(this.options.axisInverted==true){return d3.scale.linear().domain([this.min,this.max]).range([0,this.width])}else{return d3.scale.linear().domain([0,this.data.category.length-1]).range([0,this.width])}},y:function(){if(this.options.axisInverted==true){return d3.scale.linear().domain([0,this.data.category.length-1]).range([this.height,0])}else{return d3.scale.linear().domain([this.min,this.max]).range([this.height,0])}},count:function(){return this.data.length},max:function(){if(this.data){var a=this.data.series[0][0].val;for(var c=0;c<this.data.series.length;c++){for(var b=0;b<this.data.series[c].length;b++){if(this.data.series[c][b].val>a){a=this.data.series[c][b].val}}}return a}else{return 0}},min:function(){if(this.data){var c=this.data.series[0][0].val;for(var b=0;b<this.data.series.length;b++){for(var a=0;a<this.data.series[b].length;a++){if(this.data.series[b][a].val<c){c=this.data.series[b][a].val}}}return c}else{return 0}}};function LineChart(){}LineChart.prototype={draw:function(){this.drawAxis();this.drawPlots();this.drawPoints()},drawAxis:function(){this.drawXAxis();this.drawYAxis()},drawXAxis:function(){var d=this.context.data;var j=this;var e=this.context.height;var a=this.context.x();var f=a.ticks(d.category.length);var b=function(k,h){return d.category[h]};var c=function(k,h){return"translate(0,0)"};var g=function(k,h){return"translate("+a(k)+",0)"};if(this.context.options.axisInverted==true){f=a.ticks(10);b=function(k,h){return k}}var i=this.context.chart.selectAll(".tickx").data(f).enter().append("svg:g");i.attr("class","tickx");i.append("svg:line").attr("y1",e).attr("y2",0).attr("x1",0).attr("x2",0);i.append("svg:text").text(b).attr("y",e).attr("dy",15).attr("dx",-2);if(this.context.options.axisInverted==true){i.attr("transform",c);i.transition().duration(500).ease("linear").attr("transform",g)}else{i.attr("transform",g)}},drawYAxis:function(){var f=this.context.data;var e=this;var d=this.context.width;var h=this.context.y();var c=h.ticks(10);var g=function(k,j){return k};var b=function(k,j){return"translate(0, "+h(e.context.min)+")"};var a=function(k,j){return"translate(0, "+h(k)+")"};if(this.context.options.axisInverted==true){c=h.ticks(f.category.length);g=function(k,j){return f.category[j]}}ticks=this.context.chart.selectAll(".ticky").data(c).enter().append("svg:g");ticks.append("svg:line").attr("y1",0).attr("y2",0).attr("x1",0).attr("x2",d);ticks.append("svg:text").text(g).attr("text-anchor","end").attr("dy",2).attr("dx",-4);ticks.attr("class","ticky");if(this.context.options.axisInverted==true){ticks.attr("transform",a)}else{ticks.attr("transform",b);ticks.transition().duration(500).ease("linear").attr("transform",a)}},drawPlots:function(){var d=this.context.data;var b=this;for(var c=0;c<d.series.length;c++){var a=this.context.chart.selectAll("line"+c).data([d.series[c]]).enter().append("svg:path");a.attr("d",d3.svg.line().interpolate("monotone").x(function(f,e){if(b.context.options.axisInverted==true){return b.context.x()(f.val)}else{return b.context.x()(e)}}).y(function(f,e){if(b.context.options.axisInverted==true){return b.context.y()(e)}else{return b.context.y()(f.val)}})).attr("class","line").attr("opacity","0").transition().duration(1000).attr("opacity","1")}},drawPoints:function(){var c=this.context.data;var a=this;for(var b=0;b<c.series.length;b++){this.context.chart.selectAll("point"+b).data(c.series[b]).enter().append("svg:circle").attr("class",function(f,e){return"point"}).attr("cursor","pointer").attr("r",function(f,e){return 3}).attr("cx",function(f,e){if(a.context.options.axisInverted==true){return a.context.x()(f.val)}else{return a.context.x()(e)}}).attr("cy",function(f,e){if(a.context.options.axisInverted==true){return a.context.y()(e)}else{return a.context.y()(f.val)}}).on("mouseover",function(){return d3.select(this).transition().attr("r",5)}).on("mouseout",function(){return d3.select(this).transition().attr("r",3)}).on("click",function(f,e){}).attr("opacity","0").transition().duration(1000).attr("opacity","1")}}};function AreaChart(){}AreaChart.prototype={draw:function(){this.drawAxis();this.drawPlots();this.drawPoints()},drawAxis:function(){this.drawXAxis();this.drawYAxis()},drawXAxis:function(){var d=this.context.data;var j=this;var e=this.context.height;var a=this.context.x();var f=a.ticks(d.category.length);var b=function(k,h){return d.category[h]};var c=function(k,h){return"translate(0,0)"};var g=function(k,h){return"translate("+a(k)+",0)"};if(this.context.options.axisInverted==true){f=a.ticks(10);b=function(k,h){return k}}var i=this.context.chart.selectAll(".tickx").data(f).enter().append("svg:g");i.attr("class","tickx");i.append("svg:line").attr("y1",e).attr("y2",0).attr("x1",0).attr("x2",0);i.append("svg:text").text(b).attr("y",e).attr("dy",15).attr("dx",-2);if(this.context.options.axisInverted==true){i.attr("transform",c);i.transition().duration(500).ease("linear").attr("transform",g)}else{i.attr("transform",g)}},drawYAxis:function(){var f=this.context.data;var e=this;var d=this.context.width;var h=this.context.y();var c=h.ticks(10);var g=function(k,j){return k};var b=function(k,j){return"translate(0, "+h(e.context.min)+")"};var a=function(k,j){return"translate(0, "+h(k)+")"};if(this.context.options.axisInverted==true){c=h.ticks(f.category.length);g=function(k,j){return f.category[j]}}ticks=this.context.chart.selectAll(".ticky").data(c).enter().append("svg:g");ticks.append("svg:line").attr("y1",0).attr("y2",0).attr("x1",0).attr("x2",d);ticks.append("svg:text").text(g).attr("text-anchor","end").attr("dy",2).attr("dx",-4);ticks.attr("class","ticky");if(this.context.options.axisInverted==true){ticks.attr("transform",a)}else{ticks.attr("transform",b);ticks.transition().duration(500).ease("linear").attr("transform",a)}},drawPlots:function(){var d=this.context.data;var a=this;for(var b=0;b<d.series.length;b++){var c=this.context.chart.selectAll("area"+b).data([d.series[b]]).enter().append("svg:path");if(a.context.options.axisInverted==true){c.attr("d",d3.svg.area().interpolate("monotone").y(function(f,e){return a.context.y()(e)}).x0(function(){return 0}).x1(function(f,e){return a.context.x()(f.val)})).attr("class","area").attr("opacity","0").transition().duration(1000).attr("opacity","1")}else{c.attr("d",d3.svg.area().interpolate("monotone").x(function(f,e){return a.context.x()(e)}).y0(function(){return a.context.height}).y1(function(f,e){return a.context.y()(f.val)})).attr("class","area").attr("opacity","0").transition().duration(1000).attr("opacity","1")}}},drawPoints:function(){var c=this.context.data;var a=this;for(var b=0;b<c.series.length;b++){this.context.chart.selectAll("point"+b).data(c.series[b]).enter().append("svg:circle").attr("class",function(f,e){return"point"}).attr("cursor","pointer").attr("r",function(f,e){return 3}).attr("cx",function(f,e){if(a.context.options.axisInverted==true){return a.context.x()(f.val)}else{return a.context.x()(e)}}).attr("cy",function(f,e){if(a.context.options.axisInverted==true){return a.context.y()(e)}else{return a.context.y()(f.val)}}).on("mouseover",function(){return d3.select(this).transition().attr("r",5)}).on("mouseout",function(){return d3.select(this).transition().attr("r",3)}).on("click",function(f,e){}).attr("opacity","0").transition().duration(1000).attr("opacity","1")}}};function StackAreaChart(){}StackAreaChart.prototype={draw:function(){this.drawAxis();this.drawPlots();this.drawPoints()},drawAxis:function(){this.drawXAxis();this.drawYAxis()},drawXAxis:function(){var d=this.context.data;var a=this;var b=this.context.height;var c=this.context.chart.selectAll(".tickx").data(this.context.x().ticks(d.category.length)).enter().append("svg:g").attr("transform",function(f,e){return"translate("+(a.context.x()(e))+", 0)"}).attr("class","tickx");c.append("svg:line").attr("y1",b).attr("y2",0).attr("x1",0).attr("x2",0);c.append("svg:text").text(function(f,e){return d.category[e]}).attr("y",b).attr("dy",15).attr("dx",-2)},drawYAxis:function(){var c=this.context.data;var b=this;var a=this.width;ticks=this.context.chart.selectAll(".ticky").data(this.context.y().ticks(10)).enter().append("svg:g").attr("class","ticky").attr("transform","translate(0, "+b.context.y()(this.min)+")");ticks.append("svg:line").attr("y1",0).attr("y2",0).attr("x1",0).attr("x2",a);ticks.append("svg:text").text(function(e){return e}).attr("text-anchor","end").attr("dy",2).attr("dx",-4);ticks.transition().duration(500).ease("linear").attr("transform",function(e){return"translate(0, "+(b.context.y()(e))+")"})},drawPlots:function(){var c=this.context.data;var a=this;for(var b=0;b<c.series.length;b++){this.context.chart.selectAll("area"+b).data([c.series[b]]).enter().append("svg:path").attr("d",d3.svg.area().interpolate("monotone").x(function(f,e){return a.context.x()(e)}).y0(function(){return a.context.height}).y1(function(f,e){return a.context.y()(f.val)})).attr("class","area").attr("opacity","0").transition().duration(1000).attr("opacity","1")}},drawPoints:function(){var c=this.context.data;var a=this;for(var b=0;b<c.series.length;b++){this.context.chart.selectAll("point"+b).data(c.series[b]).enter().append("svg:circle").attr("class",function(f,e){return"point"}).attr("cursor","pointer").attr("r",function(f,e){return 3}).attr("cx",function(f,e){return a.context.x()(e)}).attr("cy",function(e){return a.context.y()(e.val)}).on("mouseover",function(){return d3.select(this).transition().attr("r",5)}).on("mouseout",function(){return d3.select(this).transition().attr("r",3)}).on("click",function(f,e){}).attr("opacity","0").transition().duration(1000).attr("opacity","1")}}};function ColumnChart(){}ColumnChart.prototype={draw:function(){this.drawAxis();this.drawPlots();this.drawPoints()},drawAxis:function(){this.drawXAxis();this.drawYAxis()},drawXAxis:function(){var d=this.context.data;var a=this;var b=this.context.height;var c=this.context.chart.selectAll(".tickx").data(this.context.x().ticks(d.category.length)).enter().append("svg:g").attr("transform",function(f,e){return"translate("+(a.context.x()(e))+", 0)"}).attr("class","tickx");c.append("svg:line").attr("y1",b).attr("y2",0).attr("x1",0).attr("x2",0);c.append("svg:text").text(function(f,e){return d.category[e]}).attr("y",b).attr("dy",15).attr("dx",-2)},drawYAxis:function(){var c=this.context.data;var b=this;var a=this.width;ticks=this.context.chart.selectAll(".ticky").data(this.context.y().ticks(10)).enter().append("svg:g").attr("class","ticky").attr("transform","translate(0, "+b.context.y()(this.min)+")");ticks.append("svg:line").attr("y1",0).attr("y2",0).attr("x1",0).attr("x2",a);ticks.append("svg:text").text(function(e){return e}).attr("text-anchor","end").attr("dy",2).attr("dx",-4);ticks.transition().duration(500).ease("linear").attr("transform",function(e){return"translate(0, "+(b.context.y()(e))+")"})},drawPlots:function(){var c=this.context.data;var a=this;for(var b=0;b<c.series.length;b++){this.context.chart.selectAll("area"+b).data([c.series[b]]).enter().append("svg:path").attr("d",d3.svg.area().interpolate("monotone").x(function(f,e){return a.context.x()(e)}).y0(function(){return a.context.height}).y1(function(f,e){return a.context.y()(f.val)})).attr("class","area").attr("opacity","0").transition().duration(1000).attr("opacity","1")}},drawPoints:function(){var c=this.context.data;var a=this;for(var b=0;b<c.series.length;b++){this.context.chart.selectAll("point"+b).data(c.series[b]).enter().append("svg:circle").attr("class",function(f,e){return"point"}).attr("cursor","pointer").attr("r",function(f,e){return 3}).attr("cx",function(f,e){return a.context.x()(e)}).attr("cy",function(e){return a.context.y()(e.val)}).on("mouseover",function(){return d3.select(this).transition().attr("r",5)}).on("mouseout",function(){return d3.select(this).transition().attr("r",3)}).on("click",function(f,e){}).attr("opacity","0").transition().duration(1000).attr("opacity","1")}}};function StackColumnChart(){}StackColumnChart.prototype={draw:function(){this.drawAxis();this.drawPlots();this.drawPoints()},drawAxis:function(){this.drawXAxis();this.drawYAxis()},drawXAxis:function(){var d=this.context.data;var a=this;var b=this.context.height;var c=this.context.chart.selectAll(".tickx").data(this.context.x().ticks(d.category.length)).enter().append("svg:g").attr("transform",function(f,e){return"translate("+(a.context.x()(e))+", 0)"}).attr("class","tickx");c.append("svg:line").attr("y1",b).attr("y2",0).attr("x1",0).attr("x2",0);c.append("svg:text").text(function(f,e){return d.category[e]}).attr("y",b).attr("dy",15).attr("dx",-2)},drawYAxis:function(){var c=this.context.data;var b=this;var a=this.width;ticks=this.context.chart.selectAll(".ticky").data(this.context.y().ticks(10)).enter().append("svg:g").attr("class","ticky").attr("transform","translate(0, "+b.context.y()(this.min)+")");ticks.append("svg:line").attr("y1",0).attr("y2",0).attr("x1",0).attr("x2",a);ticks.append("svg:text").text(function(e){return e}).attr("text-anchor","end").attr("dy",2).attr("dx",-4);ticks.transition().duration(500).ease("linear").attr("transform",function(e){return"translate(0, "+(b.context.y()(e))+")"})},drawPlots:function(){var c=this.context.data;var a=this;for(var b=0;b<c.series.length;b++){this.context.chart.selectAll("area"+b).data([c.series[b]]).enter().append("svg:path").attr("d",d3.svg.area().interpolate("monotone").x(function(f,e){return a.context.x()(e)}).y0(function(){return a.context.height}).y1(function(f,e){return a.context.y()(f.val)})).attr("class","area").attr("opacity","0").transition().duration(1000).attr("opacity","1")}},drawPoints:function(){var c=this.context.data;var a=this;for(var b=0;b<c.series.length;b++){this.context.chart.selectAll("point"+b).data(c.series[b]).enter().append("svg:circle").attr("class",function(f,e){return"point"}).attr("cursor","pointer").attr("r",function(f,e){return 3}).attr("cx",function(f,e){return a.context.x()(e)}).attr("cy",function(e){return a.context.y()(e.val)}).on("mouseover",function(){return d3.select(this).transition().attr("r",5)}).on("mouseout",function(){return d3.select(this).transition().attr("r",3)}).on("click",function(f,e){}).attr("opacity","0").transition().duration(1000).attr("opacity","1")}}};function BarChart(){}ColumnChart.prototype={draw:function(){this.drawAxis();this.drawPlots();this.drawPoints()},drawAxis:function(){this.drawXAxis();this.drawYAxis()},drawXAxis:function(){var d=this.context.data;var a=this;var b=this.context.height;var c=this.context.chart.selectAll(".tickx").data(this.context.x().ticks(d.category.length)).enter().append("svg:g");c.attr("transform",function(f,e){return"translate("+(a.context.x()(e))+", 0)"}).attr("class","tickx");c.append("svg:line").attr("y1",b).attr("y2",0).attr("x1",0).attr("x2",0);c.append("svg:text").text(function(f,e){return d.category[e]}).attr("y",b).attr("dy",15).attr("dx",-2)},drawYAxis:function(){var c=this.context.data;var b=this;var a=this.width;ticks=this.context.chart.selectAll(".ticky").data(this.context.y().ticks(10)).enter().append("svg:g").attr("class","ticky").attr("transform","translate(0, "+b.context.y()(this.min)+")");ticks.append("svg:line").attr("y1",0).attr("y2",0).attr("x1",0).attr("x2",a);ticks.append("svg:text").text(function(e){return e}).attr("text-anchor","end").attr("dy",2).attr("dx",-4);ticks.transition().duration(500).ease("linear").attr("transform",function(e){return"translate(0, "+(b.context.y()(e))+")"})},drawPlots:function(){var c=this.context.data;var a=this;for(var b=0;b<c.series.length;b++){this.context.chart.selectAll("area"+b).data([c.series[b]]).enter().append("svg:path").attr("d",d3.svg.area().interpolate("monotone").x(function(f,e){return a.context.x()(e)}).y0(function(){return a.context.height}).y1(function(f,e){return a.context.y()(f.val)})).attr("class","area").attr("opacity","0").transition().duration(1000).attr("opacity","1")}},drawPoints:function(){var c=this.context.data;var a=this;for(var b=0;b<c.series.length;b++){this.context.chart.selectAll("point"+b).data(c.series[b]).enter().append("svg:circle").attr("class",function(f,e){return"point"}).attr("cursor","pointer").attr("r",function(f,e){return 3}).attr("cx",function(f,e){return a.context.x()(e)}).attr("cy",function(e){return a.context.y()(e.val)}).on("mouseover",function(){return d3.select(this).transition().attr("r",5)}).on("mouseout",function(){return d3.select(this).transition().attr("r",3)}).on("click",function(f,e){}).attr("opacity","0").transition().duration(1000).attr("opacity","1")}}};function StackBarChart(){}StackBarChart.prototype={draw:function(){this.drawAxis();this.drawPlots();this.drawPoints()},drawAxis:function(){this.drawXAxis();this.drawYAxis()},drawXAxis:function(){var d=this.context.data;var a=this;var b=this.context.height;var c=this.context.chart.selectAll(".tickx").data(this.context.x().ticks(d.category.length)).enter().append("svg:g").attr("transform",function(f,e){return"translate("+(a.context.x()(e))+", 0)"}).attr("class","tickx");c.append("svg:line").attr("y1",b).attr("y2",0).attr("x1",0).attr("x2",0);c.append("svg:text").text(function(f,e){return d.category[e]}).attr("y",b).attr("dy",15).attr("dx",-2)},drawYAxis:function(){var c=this.context.data;var b=this;var a=this.width;ticks=this.context.chart.selectAll(".ticky").data(this.context.y().ticks(10)).enter().append("svg:g").attr("class","ticky").attr("transform","translate(0, "+b.context.y()(this.min)+")");ticks.append("svg:line").attr("y1",0).attr("y2",0).attr("x1",0).attr("x2",a);ticks.append("svg:text").text(function(e){return e}).attr("text-anchor","end").attr("dy",2).attr("dx",-4);ticks.transition().duration(500).ease("linear").attr("transform",function(e){return"translate(0, "+(b.context.y()(e))+")"})},drawPlots:function(){var c=this.context.data;var a=this;for(var b=0;b<c.series.length;b++){this.context.chart.selectAll("area"+b).data([c.series[b]]).enter().append("svg:path").attr("d",d3.svg.area().interpolate("monotone").x(function(f,e){return a.context.x()(e)}).y0(function(){return a.context.height}).y1(function(f,e){return a.context.y()(f.val)})).attr("class","area").attr("opacity","0").transition().duration(1000).attr("opacity","1")}},drawPoints:function(){var c=this.context.data;var a=this;for(var b=0;b<c.series.length;b++){this.context.chart.selectAll("point"+b).data(c.series[b]).enter().append("svg:circle").attr("class",function(f,e){return"point"}).attr("cursor","pointer").attr("r",function(f,e){return 3}).attr("cx",function(f,e){return a.context.x()(e)}).attr("cy",function(e){return a.context.y()(e.val)}).on("mouseover",function(){return d3.select(this).transition().attr("r",5)}).on("mouseout",function(){return d3.select(this).transition().attr("r",3)}).on("click",function(f,e){}).attr("opacity","0").transition().duration(1000).attr("opacity","1")}}};